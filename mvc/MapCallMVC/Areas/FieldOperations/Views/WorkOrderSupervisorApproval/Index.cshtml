@model MapCallMVC.Areas.FieldOperations.Models.ViewModels.WorkOrderSupervisorApproval.SearchWorkOrderSupervisorApproval

@(Html.TableFor(x => x, new { id="workOrdersTable", @class = "results-table" })
    .WithCaption("Records found:" + Model.Count)
    .SortableTemplateColumnFor("Order Number", "Id", x => Html.ActionLink(x.Id.ToString(), "Show", "WorkOrderSupervisorApproval", new { x.Id, area = "FieldOperations" }, null))
    .ColumnFor(x => x.CanBeApproved)
    .SortableColumnFor(x => x.StreetNumber)
    .SortableColumnFor(x => x.Street, "Street.FullStName")
    .SortableColumnFor(x => x.NearestCrossStreet, "NearestCrossStreet.FullStName")
    .SortableColumnFor(x => x.Town, "Town.ShortName")
    .SortableColumnFor(x => x.TownSection, "TownSection.Name")
    .SortableColumnFor(x => x.RequestedBy, "RequestedBy.Description")
    .SortableTemplateColumnFor("Requested By Employee", "RequestingEmployee.FullName", x => @<text>@if(x.RequestingEmployee != null){@x.RequestingEmployee.FullName}</text>)
    .SortableColumnFor(x => x.WorkDescription, "WorkDescription.Description")
    .SortableColumnFor(x => x.CurrentCrew, "CurrentAssignment.Crew")
    .SortableColumnFor(x => x.AssignedContractor, "AssignedContractor.Name")
    .SortableColumnFor(x => x.Purpose, "Purpose.Description")
    .SortableColumnFor(x => x.DateCompleted)
    .WithPaginatedFooter()
)
