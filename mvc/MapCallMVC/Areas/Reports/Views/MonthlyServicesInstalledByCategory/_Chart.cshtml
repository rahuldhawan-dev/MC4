@using MMSINC.ClassExtensions.EnumExtensions
@using MMSINC.Helpers
@model IEnumerable<MonthlyServicesInstalledByCategoryReportViewModel>

@if (Model.Count() == 0)
{
    <div class="container">
        No readings were found.
    </div>
}
else
{
    <style>
        .chart {height:700px;}
    </style>
    <div class="container">
        @{
            var cb = new ChartBuilder<string, int>();
            cb.Type = ChartType.Bar;
            cb.Title = "Monthly Services Installed by Category/Operating Center";
            cb.YMinValue = 0;
            cb.LegendPosition = ChartLegendPosition.Bottom;
            foreach (var item in Model.Where(x => x.ServiceCategory.Description != "Total"))
            {
                cb.AddSeriesValue(item.OperatingCenter.ToString(), item.ServiceCategory.ToString(), item.Total.Value);
            }
        }

        @cb
    </div>
}