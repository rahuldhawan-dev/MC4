using System;
using MMSINC.Controls;
using MMSINC.Interface;

namespace LINQTo271.Controls.WorkOrders
{
    public partial class WorkOrderMarkoutDamageForm : WorkOrderDetailControlBase, IWorkOrderMarkoutDamageForm
    {
        #region Control Declarations

        protected IGridView gvMarkoutDamages;
        protected IObjectDataSource odsMarkoutDamages;

        #endregion

        #region Private Methods

        protected override void SetDataSource(int workOrderID)
        {
            odsMarkoutDamages.SelectParameters["WorkOrderID"].DefaultValue =
                workOrderID.ToString();
        }

        #endregion

        #region Event Handlers

        #region Page Events

        protected void Page_Load(object sender, EventArgs e)
        {
            var visible = (CurrentMvpMode != DetailViewMode.ReadOnly);
            gvMarkoutDamages.AutoGenerateSelectButton = false;
            gvMarkoutDamages.AutoGenerateDeleteButton = visible;
            gvMarkoutDamages.AutoGenerateEditButton = false;
        }

        protected override void Page_Prerender(object sender, EventArgs e)
        {
            base.Page_Prerender(sender, e);

            if (gvMarkoutDamages.IFooterRow != null)
            {
                gvMarkoutDamages.IFooterRow.Visible = (CurrentMvpMode != DetailViewMode.ReadOnly);
            }
        }

        #endregion

        #endregion
    }

    public interface IWorkOrderMarkoutDamageForm : IWorkOrderDetailControl
    {
    }
}